<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Авторизация Яндекс</title>
</head>
<body>
  <h1>Загрузка...</h1>
  <script>
    // Получаем code из URL
    const urlParams = new URLSearchParams(window.location.search);
    const code = urlParams.get('code');

    if (code) {
      // Отправка code на локальный сервер (ты будешь запускать Python-скрипт, например)
      fetch('http://localhost:5000/auth', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ code: code })
      })
      .then(response => response.json())
      .then(data => {
        document.body.innerHTML = `<h2>Привет, ${data.name || 'пользователь'}!</h2>`;
      })
      .catch(error => {
        document.body.innerHTML = `<h2>Ошибка: ${error}</h2>`;
      });
    } else {
      document.body.innerHTML = '<h2>Код не найден</h2>';
    }
  </script>
</body>
</html>



